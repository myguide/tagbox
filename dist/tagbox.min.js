var tagbox={inputName:"tags",preset:[],strict:!1,defaultTheme:!0,target:null,tagIndex:0,tagCount:0,inputElement:null,outputElement:null,inputStyle:{width:"100%",height:"24px",cssFloat:"left",border:"thin solid #c9c9c9",padding:"4px",paddingTop:"10px",outline:"0px solid transparent",color:"#444444",fontFamily:"Helvetica"},outputStyle:{width:"100%",cssFloat:"left",padding:"4px",border:"thin solid #c9c9c9",borderBottom:"none",display:"none"},tagStyle:{height:"18px",cssFloat:"left",margin:"3px",padding:"4px",border:"thin solid #cbd8f2",borderRadius:"5px",background:"#DEE7F7",color:"#444444",fontFamily:"Helvetica",fontWeight:"lighter",cursor:"pointer"},init:function(t,e){"undefined"!=typeof e&&this.applyOptions(e),this.target=document.getElementById(t),null!==this.target&&(this.createOutputArea(),this.createInputArea())},applyOptions:function(t){for(var e in t)switch(e){case"tag":for(var n in t.tag)this.tagStyle[n]=t.tag[n];break;case"input":for(var i in t.input)this.inputStyle[i]=t.input[i];break;case"output":for(var a in t.output)this.outputStyle[a]=t.output[a];break;default:this[e]=t[e]}console.log(this.defaultTheme)},applyStylesFromObject:function(t,e){if(this.defaultTheme===!0)for(var n in e)t.style[n]=e[n]},createOutputArea:function(){var t=document.createElement("div");t.id="tagbox-content-output",t.className="tagbox-output",this.applyStylesFromObject(t,this.outputStyle),this.outputElement=t,this.target.appendChild(this.outputElement)},createInputArea:function(){var t=document.createElement("div");t.id="tagbox-content-area",t.contentEditable=!0,t.addEventListener("keydown",function(t){tagbox.detectKeyPress(t)}),t.className="tagbox-input",this.applyStylesFromObject(t,this.inputStyle),this.inputElement=t,this.target.appendChild(this.inputElement)},detectKeyPress:function(t){(9==t.which||13==t.which||188==t.which)&&(t.preventDefault(),this.appendTag())},appendTag:function(){var t=this.inputElement.textContent;if(this.validateTagContent(t)===!0){this.inputElement.textContent="",this.showOutputArea();var e=document.createElement("div");e.id="tagbox-tag-"+this.tagIndex,e.innerHTML=t.trim(),e.addEventListener("click",function(t){tagbox.removeTag(t)}),e.className="tagbox-tag",this.applyStylesFromObject(e,this.tagStyle),this.outputElement.appendChild(e),this.createHiddenInput(t)}},validateTagContent:function(t){var e=t.trim();return""!==e?!0:!1},removeTag:function(t){var e=document.getElementById("tagbox-input-"+t.target.id.replace("tagbox-tag-",""));t.target.parentNode.removeChild(t.target),e.parentNode.removeChild(e),this.tagCount--,this.hideOutputArea()},showOutputArea:function(){"none"==this.outputElement.style.display&&(this.outputElement.style.display="block")},hideOutputArea:function(){0===this.tagCount&&(this.outputElement.style.display="none")},createHiddenInput:function(t){var e=document.createElement("input");e.type="hidden",e.name=this.inputName+"["+this.tagIndex+"]",e.id="tagbox-input-"+this.tagIndex,e.value=t,this.target.appendChild(e),this.tagIndex++,this.tagCount++}};